---
import BaseLayout from '@/layouts/BaseLayout.astro'
// import Icon from '@/components/icons/Icon.astro'
// import HoverUpDown from '@/components/animations/HoverUpDown.astro'
import SplashLink from '@/components/SplashPage/SplashLink.astro'
import SplashMenu from '@/components/SplashPage/SplashMenu.astro'
import { siteConfig } from '@/site.config'
import PageSection from '@/components/PageSection.astro'
import SectionWrapper from '@/components/SectionWrapper.astro'
import HighlightedText from '@/components/HighlightedText.astro'
// import ListWorkHistory from '@/components/WorkHistory/ListWorkHistory.astro'

const { author, jobTitle } = siteConfig
---

<BaseLayout noTopMargin>
    <SectionWrapper class="relative">
	    <div class="splash-bg" />

	    <PageSection fullScreen class="justify-center">
	        <div class="flex gap-8 justify-center items-center flex-col py-16 md:py-32">
	            <div>
	                <div class="pfp" />
	            </div>

	            <div class="flex flex-col items-center text-center font-loto font-light pointer-events-none">
	                <div class="text-4xl md:text-6xl text-color-gradient letter-deco">
	                    {Array.from(author).map((c, index) => <div style={`--slot:${index};`}>{c}</div>)}
	                </div>
	                <p class="text-4xl text-color-gradient font-normal tracking-widest">
	                    {jobTitle}
	                </p>
	            </div>
	        </div>

	        <SplashMenu>
	            <SplashLink class="text-secondary2" href="/resume">Resume</SplashLink>
	            <SplashLink class="text-primary" href={`https://github.com/${siteConfig.github}`} target="_blank">GitHub</SplashLink>
	            <SplashLink class="text-secondary1" href={`mailto:${siteConfig.email}`} target="_blank">Contact</SplashLink>
	        </SplashMenu>

			<!-- <div class="absolute bottom-14 flex justify-center w-full text-xl drop-shadow text-primary">
				<HoverUpDown>
					<Icon name="ri:arrow-down-circle-line" class="drop-shadow"/>
				</HoverUpDown>
			</div> -->
	    </PageSection>
    </SectionWrapper>

	<!-- <SectionWrapper>
	    <PageSection class="justify-center">
	        <ListWorkHistory />
	    </PageSection>
	</SectionWrapper> -->
</BaseLayout>

<style>
	.splash-bg {
		position: absolute;
		inset: 0;
		z-index: -100;
		background-size: 150% 100%;
		background-repeat: no-repeat;
		background-position: top;
		background: radial-gradient(ellipse at top, #1B2735 0%, transparent 60%);
	}

	.text-color-gradient {
		background: linear-gradient(var(--col-secondary1) 0%, var(--col-primary) 80%);
		background-clip: text;
		color: transparent;
		overflow: visible;
		line-height: 1.5em;
		text-shadow: 1px 1px 0.5em #0008;
	}

	.letter-deco {
		display: flex;
		gap: 0.25em;
		text-transform: uppercase;

		& > * {
			animation-name: text-wave;
			animation-timing-function: ease-in-out;
			animation-duration: 3s;
			animation-delay: calc(var(--slot) * -400ms);
			animation-iteration-count: infinite;
			animation-direction: alternate;
		}
	}

	@keyframes text-wave {
		0% {
			transform: translateY(-0.15em);
		}

		100% {
			transform: translateY(0.15em);
		}
	}

	.pfp {
		position: relative;
		outline: 2px solid var(--col-bg);
		z-index: 1;
		@apply size-32 md:size-64 shadow-md shadow-black bg-[url(/myself.jpg)] bg-[length:180%_180%] bg-center rounded-full transition-all hover:bg-[length:100%_100%];
	}

	.pfp::before {
		content: '';
		z-index: -1;
		position: absolute;
		inset: 0;
		border: 2px solid var(--col-fg);
		border-radius: 50%;
		box-shadow: 0px 0px 4px white, 0px 0px 4px inset white;
		animation: pfp-ring ease 10s infinite;
	}

	@keyframes pfp-ring {
		0% {
			opacity: 0;
			border-color: transparent;
		}

		10% {
			inset: 0;
			border-color: var(--col-fg);
			opacity: 1;
		}
		
		50%, 100% {
			inset: -75%;
			border-color: var(--col-primary);
			opacity: 0;
		}
	}
</style>
